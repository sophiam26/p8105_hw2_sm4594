Data Science HW\#2
================
Sophia Miller
10/1/2019

# Loading tidyverse

``` r
library(tidyverse)
```

    ## ── Attaching packages ────────────────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.2.1     ✔ purrr   0.3.2
    ## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
    ## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
    ## ✔ readr   1.3.1     ✔ forcats 0.4.0

    ## ── Conflicts ───────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

# Problem 1

## Read and clean Mr. Trash Wheel sheet

``` r
library(readxl)
trashwheel_data = read_excel(
  path = "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N408",
  col_names = TRUE) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(
    sports_balls = as.integer(round(sports_balls, 0))
    )
```

## Read and clean precipitation data for 2017

``` r
precip_data_2017 = read_excel(
  path = "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "2017 Precipitation",
  col_names = TRUE,
  skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2017)
```

## Read and clean precipitation data for 2018

``` r
precip_data_2018 = read_excel(
  path = "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "2018 Precipitation",
  col_names = TRUE,
  skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018)
```

## Combine precipitation datasets and convert month to a character variable

``` r
precip_data = 
  full_join(precip_data_2017, precip_data_2018, by = NULL) %>%
 mutate(
    month = as.numeric(month),
    month = month.name[month]
    )
```

    ## Joining, by = c("month", "total", "year")

There are 24 observations in the precipitation dataset. Key variables in
the precipitation dataset include month, year, and total precipitation.
Total precipitation in 2018 was 103.26. There are in 344 observations
the trashwheel dataset. Key variables include wight\_tons,
volume\_cubic\_yards, and homes\_powered. The median number of sports
balls in a dumpster in 2017 is

# Problem 2

## Read and clean pols-month data

``` r
pols_month_data = read_csv(file = "./data/pols-month.csv") %>%
janitor::clean_names() %>%
separate(mon, c("year","month","day")) %>%
  mutate(
    month = as.numeric(month),
    month = month.name[month],
    president = prez_dem,
    president = recode(president, '1' = "dem", '0' = "gop"),
    year = as.numeric(year)) %>%
  select(-day, -prez_gop, -prez_dem)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

## Read and clean snp data

``` r
snp_data = read_csv(file = "./data/snp.csv") %>%
janitor::clean_names() %>%
separate(date, c("month","day","year")) %>%
select(year, month, day, close) %>%
mutate(
    month = as.numeric(month),
    month = month.name[month],
    year = as.numeric(year))
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

## Read and clean unemployment data

``` r
unemployment_data = read_csv(file = "./data/unemployment.csv") %>%
janitor::clean_names() %>%
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percent_unemployment") %>%
  mutate(
    month = recode(month, "jan" = "January", "feb" = "February", "mar" = "March", "apr" = "April", "may" = "May", "jun" = "June", "jul" = "July", "aug" = "August", "sep" = "September", "oct" = "October", "nov" = "November", "dec" = "December"),
    year = as.numeric(year))
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

## Join pols\_month\_data and snp\_data

``` r
pols_snp_data = 
  left_join(pols_month_data, snp_data, by = c("year", "month"))
```

## Join unemployment\_data and pols\_snp\_data

``` r
pols_snp_unemp_data = 
  left_join(pols_snp_data, unemployment_data, by = c("year", "month"))
```

The “pols-month” dataset contains information about the number of
politicians who are democratic or republican at a given time point. The
“snp” dataset contains information about the closing value of the
Standard & Poor stock market index on a given date. The “unemployment”
dataset contains information about the percentage of unemployment in a
given month of an associated year. The dataset “pols\_snp\_unemp\_data,”
which results from combining the pols-month, snp, and unemployment
datasets, has 822 rows and 12 columns. Key variables in the
“pols\_snp\_unemp\_data” dataset include “year” “month” “president”,
“unemployment”, and “close”.

# Problem 3

## Read and clean baby name popularity data

``` r
baby_name_data = read_csv("./data/Popular_Baby_Names.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   `Year of Birth` = col_double(),
    ##   Gender = col_character(),
    ##   Ethnicity = col_character(),
    ##   `Child's First Name` = col_character(),
    ##   Count = col_double(),
    ##   Rank = col_double()
    ## )
